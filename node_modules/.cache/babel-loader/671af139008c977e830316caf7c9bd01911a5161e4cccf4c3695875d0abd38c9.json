{"ast":null,"code":"import React,{useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{useNavigate}from\"react-router-dom\";import{v4 as uuidv4}from\"uuid\";import ROUTES from\"../app/routes\";// import selectors\nimport{selectTopics}from\"../features/topics/topicsSlice\";import{addQuiz}from\"../features/quizzes/quizzesSlice\";import{addCard}from\"../features/cards/cardsSlice\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function NewQuizForm(){const[name,setName]=useState(\"\");const[cards,setCards]=useState([]);const[topicId,setTopicId]=useState(\"\");const navigate=useNavigate();const topics=useSelector(selectTopics);// Replace with topics \nconst dispatch=useDispatch();const handleSubmit=e=>{e.preventDefault();if(name.length===0){return;}const cardIds=[];// create the new cards here and add each card's id to cardIds\n// create the new quiz here\ncards.forEach(card=>{const cardId=uuidv4();cardIds.push(cardId);dispatch(addCard({id:cardId,front:card.front,back:card.back}));});const quizId=uuidv4();// dispatch add quiz action \ndispatch(addQuiz({id:quizId,name,topicId,cardIds}));navigate(ROUTES.quizzesRoute());};const addCardInputs=e=>{e.preventDefault();setCards(cards.concat({front:\"\",back:\"\"}));};const removeCard=(e,index)=>{e.preventDefault();setCards(cards.filter((card,i)=>index!==i));};const updateCardState=(index,side,value)=>{const newCards=cards.slice();newCards[index][side]=value;setCards(newCards);};return/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Create a new quiz\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"input\",{id:\"quiz-name\",value:name,onChange:e=>setName(e.currentTarget.value),placeholder:\"Quiz Title\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"quiz-topic\",onChange:e=>setTopicId(e.currentTarget.value),placeholder:\"Topic\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Topic\"}),Object.values(topics).map(topic=>/*#__PURE__*/_jsx(\"option\",{value:topic.id,children:topic.name},topic.id))]}),cards.map((card,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"card-front-back\",children:[/*#__PURE__*/_jsx(\"input\",{id:`card-front-${index}`,value:cards[index].front,onChange:e=>updateCardState(index,\"front\",e.currentTarget.value),placeholder:\"Front\"}),/*#__PURE__*/_jsx(\"input\",{id:`card-back-${index}`,value:cards[index].back,onChange:e=>updateCardState(index,\"back\",e.currentTarget.value),placeholder:\"Back\"}),/*#__PURE__*/_jsx(\"button\",{onClick:e=>removeCard(e,index),className:\"remove-card-button\",children:\"Remove Card\"})]},index)),/*#__PURE__*/_jsxs(\"div\",{className:\"actions-container\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:addCardInputs,children:\"Add a Card\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Create Quiz\"})]})]})]});}","map":{"version":3,"names":["React","useState","useDispatch","useSelector","useNavigate","v4","uuidv4","ROUTES","selectTopics","addQuiz","addCard","jsx","_jsx","jsxs","_jsxs","NewQuizForm","name","setName","cards","setCards","topicId","setTopicId","navigate","topics","dispatch","handleSubmit","e","preventDefault","length","cardIds","forEach","card","cardId","push","id","front","back","quizId","quizzesRoute","addCardInputs","concat","removeCard","index","filter","i","updateCardState","side","value","newCards","slice","children","onSubmit","onChange","currentTarget","placeholder","Object","values","map","topic","className","onClick","type"],"sources":["C:/Users/12397/Desktop/Projects/Portfolio Projects/Flashcard App/FlashQuiz/src/components/NewQuizForm.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useNavigate } from \"react-router-dom\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport ROUTES from \"../app/routes\";\n// import selectors\nimport { selectTopics } from \"../features/topics/topicsSlice\";\nimport { addQuiz } from \"../features/quizzes/quizzesSlice\";\nimport { addCard } from \"../features/cards/cardsSlice\";\n\nexport default function NewQuizForm() {\n  const [name, setName] = useState(\"\");\n  const [cards, setCards] = useState([]);\n  const [topicId, setTopicId] = useState(\"\");\n  const navigate = useNavigate();\n  const topics = useSelector(selectTopics);  // Replace with topics \n  const dispatch = useDispatch();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (name.length === 0) {\n      return;\n    }\n\n    const cardIds = [];\n\n    // create the new cards here and add each card's id to cardIds\n    // create the new quiz here\n    cards.forEach((card) => {\n      const cardId = uuidv4();\n      cardIds.push(cardId);\n      dispatch(addCard({ id: cardId, front: card.front , back: card.back }));\n    });\n\n    const quizId = uuidv4();\n\n    // dispatch add quiz action \n    dispatch(addQuiz({ id: quizId, name, topicId, cardIds }));\n    navigate(ROUTES.quizzesRoute())\n  };\n\n  const addCardInputs = (e) => {\n    e.preventDefault();\n    setCards(cards.concat({ front: \"\", back: \"\" }));\n  };\n\n  const removeCard = (e, index) => {\n    e.preventDefault();\n    setCards(cards.filter((card, i) => index !== i));\n  };\n\n  const updateCardState = (index, side, value) => {\n    const newCards = cards.slice();\n    newCards[index][side] = value;\n    setCards(newCards);\n  };\n\n  return (\n    <section>\n      <h1>Create a new quiz</h1>\n      <form onSubmit={handleSubmit}>\n        <input\n          id=\"quiz-name\"\n          value={name}\n          onChange={(e) => setName(e.currentTarget.value)}\n          placeholder=\"Quiz Title\"\n        />\n        <select\n          id=\"quiz-topic\"\n          onChange={(e) => setTopicId(e.currentTarget.value)}\n          placeholder=\"Topic\"\n        >\n          <option value=\"\">Topic</option>\n          {Object.values(topics).map((topic) => (\n            <option key={topic.id} value={topic.id}>\n              {topic.name}\n            </option>\n          ))}\n        </select>\n        {cards.map((card, index) => (\n          <div key={index} className=\"card-front-back\">\n            <input\n              id={`card-front-${index}`}\n              value={cards[index].front}\n              onChange={(e) =>\n                updateCardState(index, \"front\", e.currentTarget.value)\n              }\n              placeholder=\"Front\"\n            />\n\n            <input\n              id={`card-back-${index}`}\n              value={cards[index].back}\n              onChange={(e) =>\n                updateCardState(index, \"back\", e.currentTarget.value)\n              }\n              placeholder=\"Back\"\n            />\n\n            <button\n              onClick={(e) => removeCard(e, index)}\n              className=\"remove-card-button\"\n            >\n              Remove Card\n            </button>\n          </div>\n        ))}\n        <div className=\"actions-container\">\n          <button onClick={addCardInputs}>Add a Card</button>\n          <button type=\"submit\">Create Quiz</button>\n        </div>\n      </form>\n    </section>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}